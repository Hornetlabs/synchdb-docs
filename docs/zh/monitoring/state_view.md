# è¿æ¥å™¨è¿è¡ŒçŠ¶æ€

## æ£€æŸ¥è¿æ¥å™¨è¿è¡ŒçŠ¶æ€
ä½¿ç”¨ `synchdb_state_view()` æ£€æŸ¥æ‰€æœ‰è¿æ¥å™¨çš„è¿è¡ŒçŠ¶æ€ã€‚

è¯·å‚é˜…ä»¥ä¸‹ç¤ºä¾‹è¾“å‡ºï¼š
``` SQL
postgres=# select * from synchdb_state_view;
     name      | connector_type |  pid   |        stage        |  state  |   err    |                                           last_dbz_offset
---------------+----------------+--------+---------------------+---------+----------+------------------------------------------------------------------------------------------------------
 sqlserverconn | sqlserver      | 579820 | change data capture | polling | no error | {"commit_lsn":"0000006a:00006608:0003","snapshot":true,"snapshot_completed":false}
 mysqlconn     | mysql          | 579845 | change data capture | polling | no error | {"ts_sec":1741301103,"file":"mysql-bin.000009","pos":574318212,"row":1,"server_id":223344,"event":2}
 oracleconn    | oracle         | 580053 | change data capture | polling | no error | offset file not flushed yet
(3 rows)

```

åˆ—è¯¦æƒ…ï¼š

| å­—æ®µ | æè¿° |
|-|-|
| name | ç”± `synchdb_add_conninfo()` åˆ›å»ºçš„å…³è”è¿æ¥å™¨ä¿¡æ¯åç§° |
| connector_type | è¿æ¥å™¨ç±»å‹ï¼ˆmysqlã€oracleã€sqlserver ç­‰ï¼‰|
| pid | è¿æ¥å™¨å·¥ä½œè¿›ç¨‹çš„ PID |
| stage | è¿æ¥å™¨çš„é˜¶æ®µã€‚è§ä¸‹æ–‡ã€‚|
| state | è¿æ¥å™¨çš„çŠ¶æ€ã€‚è§ä¸‹æ–‡ã€‚|
| err | å·¥ä½œè¿›ç¨‹é‡åˆ°çš„æœ€åä¸€ä¸ªå¯èƒ½å¯¼è‡´å…¶é€€å‡ºçš„é”™è¯¯æ¶ˆæ¯ã€‚æ­¤é”™è¯¯å¯èƒ½æºäº PostgreSQL å¤„ç†æ›´æ”¹æ—¶ï¼Œä¹Ÿå¯èƒ½æºäº Debezium è¿è¡Œå¼•æ“è®¿é—®å¼‚æ„æ•°æ®åº“æ•°æ®æ—¶ã€‚|
| last_dbz_offset | synchdb æ•è·çš„æœ€åä¸€ä¸ª Debezium åç§»é‡ã€‚è¯·æ³¨æ„ï¼Œè¿™å¯èƒ½æ— æ³•åæ˜ è¿æ¥å™¨å¼•æ“çš„å½“å‰å®æ—¶åç§»é‡å€¼ã€‚ç›¸åï¼Œå®ƒæ˜¾ç¤ºä¸ºä¸€ä¸ªæ£€æŸ¥ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦ä»æ­¤åç§»é‡ç‚¹é‡æ–°å¯åŠ¨ã€‚|

**å¯èƒ½çš„çŠ¶æ€**ï¼š

- ğŸ”´ `stopped` - éæ´»åŠ¨
- ğŸŸ¡ `initializing` - æ­£åœ¨å¯åŠ¨
- ğŸŸ  `paused` - æš‚æ—¶åœæ­¢
- ğŸŸ¢ `syncing` - æ­£åœ¨ä¸»åŠ¨è½®è¯¢
- ğŸ”µ `parsing` - æ­£åœ¨å¤„ç†äº‹ä»¶
- ğŸŸ£ `converting` - æ­£åœ¨è½¬æ¢æ•°æ®
- âšª `executing` - æ­£åœ¨åº”ç”¨æ›´æ”¹
- ğŸŸ¤ `updating offset` - æ­£åœ¨æ›´æ–°æ£€æŸ¥ç‚¹
- ğŸŸ¨ `restarting` - æ­£åœ¨é‡æ–°åˆå§‹åŒ–
- âšª `dumping memory` - JVM æ­£åœ¨å‡†å¤‡å°†å†…å­˜ä¿¡æ¯è½¬å‚¨åˆ°æ—¥å¿—æ–‡ä»¶
- âš« `unknown` - ä¸ç¡®å®šçŠ¶æ€

**å¯èƒ½çš„çŠ¶æ€**ï¼š

- `initial snapping` - è¿æ¥å™¨æ­£åœ¨æ‰§è¡Œåˆå§‹å¿«ç…§ï¼ˆæ„å»ºè¡¨ç»“æ„ä»¥åŠå¯é€‰çš„åˆå§‹æ•°æ®ï¼‰
- `change data capture` - è¿æ¥å™¨æ­£åœ¨æµå¼ä¼ è¾“åç»­è¡¨æ›´æ”¹ (CDC)
- `schema sync` - è¿æ¥å™¨ä»…å¤åˆ¶è¡¨æ¶æ„ï¼ˆæ— æ•°æ®ï¼‰